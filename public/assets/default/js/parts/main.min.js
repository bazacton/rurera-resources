function rurera_loader(e, t) {
    switch (t) {
        case "div":
            e.addClass("rurera-processing"),
                e.append(
                    '<div class="rurera-button-loader" style="display: block;">\n                       <div class="spinner">\n                           <div class="double-bounce1"></div>\n                           <div class="double-bounce2"></div>\n                       </div>\n                   </div>'
                );
            break;
        case "button":
            e.wrap('<div class="rurera-loader-holder"></div>'),
                e.closest(".rurera-loader-holder").addClass("rurera-processing"),
                e
                    .closest(".rurera-loader-holder")
                    .append(
                        '<div class="rurera-button-loader" style="display: block;">\n                        <div class="spinner">\n                            <div class="double-bounce1"></div>\n                            <div class="double-bounce2"></div>\n                        </div>\n                    </div>'
                    );
            break;
        case "page":
            $("body").addClass("rurera-processing"),
                $("body").append(
                    '<div class="rurera-button-loader" style="display: block;">\n                          <div class="spinner">\n                              <div class="double-bounce1"></div>\n                              <div class="double-bounce2"></div>\n                          </div>\n                      </div>'
                );
            break;
        case "animation":
            $("body").addClass("rurera-processing");
            Math.floor(3 * Math.random());
            4,
                $("body").append(
                    '<div class="rurera-button-loader" style="display: block;">\n                        <div class="preloader"><img src="/assets/default/img/preloaders/4.webp"><span class="preloader-text">Sharpen your wits and get ready to unravel mind-bending questions and brain teasers in our upcoming quiz</span></div>\n                    </div>'
                );
    }
}
function rurera_remove_loader(e, t) {
    switch (t) {
        case "button":
            e.removeClass("rurera-processing"),
                e.unwrap(".rurera-loader-holder"),
                $("body").removeClass("rurera-processing"),
                $("body").find(".rurera-button-loader").remove();
            break;
        case "div":
            e.removeClass("rurera-processing"), $("body").find(".rurera-button-loader").remove();
            break;
        case "page":
            $("body").removeClass("rurera-processing"), $("body").find(".rurera-button-loader").remove();
    }
}
function FieldIsEmpty(e) {
    return (is_empty = !0), "" != e && "undefined" != e && null != e && (is_empty = !1), is_empty;
}
$(document).ready(function () {
    $(".quantity-right-plus").click(function (e) {
        e.preventDefault();
        var t = parseInt($("#quantity").val());
        $("#quantity").val(t + 1);
    }),
        $(".quantity-left-minus").click(function (e) {
            e.preventDefault();
            var t = parseInt($("#quantity").val());
            t > 0 && $("#quantity").val(t - 1);
        });
}),
    $(document).ready(function () {
        function e() {
            676 > $(window).width()
                ? $("body").css("padding-top", $(".panel-right-sidebar").innerHeight())
                : $("body").css("padding-top", 0);
        }
        $(window).on("resize", function (t) {
            e();
        }),
            e();
    }),
    jQuery(".show-more-btn").length > 0 &&
        $(".show-more-btn").click(function () {
            $(".lms-chapter-ul-outer ul").hasClass("show-more-items")
                ? $(this).text("Show More")
                : $(this).text("Show Less"),
                $(this).siblings(".lms-chapter-ul-outer ul").toggleClass("show-more-items");
        }),
    $(window).load(function () {
        jQuery(".masonry-grid").length > 0 &&
            $(".masonry-grid").masonry({ itemSelector: ".grid-item", isFitWidth: !0 });
    }),
    $(document).ready(function () {
        $(window).scroll(function () {
            $(this).scrollTop() > 500 ? $(".scroll-btn").fadeIn() : $(".scroll-btn").fadeOut();
        }),
            $(".round").click(function (e) {
                return (
                    e.preventDefault(),
                    e.stopPropagation(),
                    $(".arrow").toggleClass("bounceAlpha"),
                    $("html, body").animate({ scrollTop: 0 }, 600),
                    !1
                );
            }),
            $(function () {
                $(".lms-element-nav li a").click(function () {
                    if (
                        location.pathname.replace(/^\//, "") == this.pathname.replace(/^\//, "") &&
                        location.hostname == this.hostname
                    ) {
                        var e = $(this.hash);
                        if ((e = e.length ? e : $("[name=" + this.hash.slice(1) + "]")).length)
                            return $("html,body").animate({ scrollTop: e.offset().top - 100 }, 1e3), !1;
                    }
                });
            }),
            jQuery(".lms-testimonial-slider .swiper-container").length > 0 &&
                new Swiper(".lms-testimonial-slider .swiper-container", {
                    slidesPerView: 1,
                    spaceBetween: 0,
                    pagination: { el: ".swiper-pagination", type: "bullets" },
                    navigation: { nextEl: ".swiper-button-next", prevEl: ".swiper-button-prev" },
                    breakpoints: {
                        320: { slidesPerView: 1, spaceBetween: 10 },
                        480: { slidesPerView: 1, spaceBetween: 10 },
                        640: { slidesPerView: 1, spaceBetween: 10 },
                    },
                }),
            jQuery(".lms-library-slider .swiper-container").length > 0 &&
                new Swiper(".lms-library-slider .swiper-container", {
                    slidesPerView: 4,
                    spaceBetween: 30,
                    pagination: { el: ".swiper-pagination", type: "bullets" },
                    navigation: { nextEl: ".swiper-button-next", prevEl: ".swiper-button-prev" },
                    breakpoints: {
                        320: { slidesPerView: 1, spaceBetween: 0 },
                        480: { slidesPerView: 1, spaceBetween: 0 },
                        640: { slidesPerView: 4, spaceBetween: 30 },
                    },
                }),
            jQuery(".team-slider .swiper-container").length > 0 &&
                new Swiper(".team-slider .swiper-container", {
                    slidesPerView: 5,
                    spaceBetween: 15,
                    centeredSlides: !0,
                    loop: !0,
                    pagination: { el: ".swiper-pagination", type: "bullets" },
                    navigation: { nextEl: ".swiper-button-next", prevEl: ".swiper-button-prev" },
                    breakpoints: {
                        320: { slidesPerView: 1, spaceBetween: 10 },
                        480: { slidesPerView: 1, spaceBetween: 10 },
                        640: { slidesPerView: 5, spaceBetween: 15 },
                    },
                }),
            jQuery(".open-controls-btn").length > 0 &&
                $(".open-controls-btn").click(function () {
                    $(this).parents(".textboard-holder").toggleClass("open");
                }),
            jQuery(".controls-close-btn").length > 0 &&
                $(".controls-close-btn").click(function () {
                    $(this).parents(".textboard-holder").toggleClass("open");
                }),
            jQuery(".testimonial-card .swiper-container").length > 0 &&
                new Swiper(".testimonial-card .swiper-container", {
                    slidesPerView: 1,
                    spaceBetween: 0,
                    speed: 1500,
                    loop: !0,
                    autoplay: !0,
                    autoplay: { delay: 5e3, disableOnInteraction: !1 },
                    breakpoints: {
                        320: { slidesPerView: 1, spaceBetween: 0 },
                        480: { slidesPerView: 1, spaceBetween: 0 },
                        640: { slidesPerView: 1, spaceBetween: 0 },
                    },
                }),
            jQuery(".gallery-slider .swiper-container").length > 0 &&
                new Swiper(".gallery-slider .swiper-container", {
                    slidesPerView: 1,
                    spaceBetween: 0,
                    speed: 1500,
                    loop: !0,
                    autoplay: !0,
                    autoplay: { delay: 5e3, disableOnInteraction: !1 },
                }),
            jQuery(".latest-webinars-swiper").length > 0 &&
                new Swiper(".latest-webinars-swiper", {
                    slidesPerView: 4,
                    spaceBetween: 30,
                    loop: !0,
                    autoplay: { delay: 5e3, disableOnInteraction: !1 },
                    pagination: { el: ".swiper-pagination", clickable: !0 },
                    breakpoints: { 991: { slidesPerView: 4 }, 660: { slidesPerView: 2 } },
                }),
            jQuery(".testimonials-swiper.swiper-container").length > 0 &&
                new Swiper(".testimonials-swiper.swiper-container", {
                    slidesPerView: 3,
                    spaceBetween: 30,
                    loop: !0,
                    autoplay: { delay: 5e3, disableOnInteraction: !1 },
                    pagination: { el: ".swiper-pagination", clickable: !0 },
                    breakpoints: {
                        991: { slidesPerView: 3 },
                        660: { slidesPerView: 2, spaceBetween: 15 },
                        480: { slidesPerView: 1, spaceBetween: 10 },
                        320: { slidesPerView: 1, spaceBetween: 10 },
                    },
                }),
            jQuery(".product-tabs-slider.swiper-container").length > 0 &&
                new Swiper(".product-tabs-slider.swiper-container", {
                    slidesPerView: 3,
                    spaceBetween: 30,
                    observer: !0,
                    observeParents: !0,
                    loop: !1,
                    autoplay: !1,
                    navigation: { nextEl: ".swiper-button-next", prevEl: ".swiper-button-prev" },
                    breakpoints: {
                        991: { slidesPerView: 2 },
                        660: { slidesPerView: 2, spaceBetween: 15 },
                        480: { slidesPerView: 1, spaceBetween: 0 },
                        320: { slidesPerView: 1, spaceBetween: 0 },
                    },
                }),
            $(document).ready(function () {
                (t = {
                    localization: {},
                    options: {
                        lineStyle: "square-ends",
                        displayMode: "original",
                        whiteSpace: $("input[name='whiteSpace']:checked").val(),
                        mobileClickIt: !1,
                        oneToMany: "off",
                        autoDetect: "off",
                    },
                    Lists: [
                        { name: "Columns in files", list: ["1,0009,909", "1,023,065", "1,0009,908", "1,230,650"] },
                        { name: "Available Fields", list: ["1st", "2nd", "4th", "3rd"] },
                    ],
                }),
                    $(".fieldLinkerSave").on("click", function () {
                        var t = e.fieldsLinker("getLinks");
                        $("#output").html("output => " + JSON.stringify(t));
                    }),
                    jQuery("#original").length > 0 && (e = $("#original").fieldsLinker("init", t));
            }),
            jQuery(".quiz-toggle-btn").length > 0 &&
                $(".quiz-toggle-btn").click(function () {
                    $(this).parents("body").toggleClass("quiz-show");
                }),
            jQuery("body").length > 0 && $("body").addClass("quiz-show"),
            jQuery(".read-text-btn").length > 0 &&
                $(".read-text-btn").click(function () {
                    (curSize = parseInt($(".quiz-info-inner p").css("font-size")) + 1) <= 24
                        ? $(".quiz-info-inner p").css("font-size", curSize)
                        : $(".quiz-info-inner p").css("font-size", "15px");
                }),
            document.addEventListener("selectionchange", function () {
                window.getSelection();
            });
        var e,
            t,
            a = document.getElementById("highlights");
        jQuery(".text-highlight-btn").length > 0 &&
            $(".text-highlight-btn").on("click", function (e) {
                e.preventDefault();
                var t = (function (e) {
                        var t = "null";
                        if (void 0 !== window.getSelection) {
                            var a = window.getSelection();
                            t = a.toString();
                            var n = a.getRangeAt(0),
                                r = (t = t.replace(/[\s.,!?:;'"-]+$/, "")).match(/^[\s"']+/);
                            if ((r && r[0].length, "" === (t = t.replace(/^[\s"']+/, ""))))
                                alert("Error: you must select at least one character"),
                                    (tartOffset = 0),
                                    (endOffset = 0),
                                    (t = "null");
                            else {
                                var i = parseInt(1e4 * Math.random()),
                                    s = document.createElement("span");
                                s.classList.add("chosen");
                                var o = "i" + i;
                                s.setAttribute("data-cid", o),
                                    s.appendChild(n.extractContents()),
                                    (s.style.backgroundColor = e),
                                    n.insertNode(s);
                            }
                        }
                        return { text: t, cid: o };
                    })($(this)[0].style.color),
                    n = t.text,
                    r = t.cid,
                    i = document.createTextNode(n),
                    s = document.createElement("span");
                s.appendChild(i), s.setAttribute("data-cid", r), s.classList.add("highlighted"), a.appendChild(s);
            }),
            jQuery(".quiz-info-inner").length > 0 &&
                $(".quiz-info-inner").on("dblclick", ".chosen", function () {
                    var e = this.getAttribute("data-cid");
                    a.querySelector("[data-cid=" + e + "]").remove(), this.replaceWith(this.innerText);
                }),
            $(document).ready(function () {
                var e,
                    t,
                    a,
                    n,
                    r = "#navbar";
                $(".lms-accordion-simple .card").click(function () {
                    $(".lms-accordion-simple .card").removeClass("active"), $(this).addClass("active");
                }),
                    $(".lms-accordion-modern .card").click(function () {
                        $(".lms-accordion-modern .card").removeClass("active"), $(this).addClass("active");
                    }),
                    $(".navbar-nav .nav-link").click(function () {
                        var e = $(this).parent().children(".sidenav-dropdown");
                        $(e).slideToggle(), $(this).toggleClass("collapsed");
                    }),
                    $(".navbar-nav .nav-item").each(function () {
                        $(this).has(".sidenav-dropdown").length && $(".navbar-nav .nav-item a").addClass("collapsed");
                    }),
                    $(".has-mega-menu .nav-link").click(function (e) {
                        $(".lms-mega-menu").slideToggle(),
                            $(".lms-mega-menu").toggleClass("menu-open"),
                            e.preventDefault();
                    }),
                    992 > $("body").width() &&
                        ((e = ""),
                        (t = ""),
                        (a = ""),
                        (n = ""),
                        $(r).addClass("panel-group"),
                        $(r)
                            .find(".mega-menu-nav li")
                            .each(function (r) {
                                (t = r < 1 ? "in" : ""),
                                    (e = $(this).find("a").attr("href")),
                                    (n = $(this).find("a").html()),
                                    $(e).removeAttr("role"),
                                    $(e).removeClass(),
                                    $(e).css("padding", "0"),
                                    $(e).addClass("panel panel-default pull-left col-xs-12 nopadding"),
                                    (a = $(e).html()),
                                    $(e).html(""),
                                    $(e).prepend(
                                        '<div class="panel-heading"><h4 class="panel-title"><a data-toggle="collapse" data-parent="' +
                                            e +
                                            '" href="' +
                                            e +
                                            '1">' +
                                            n +
                                            "</a></h4></div>"
                                    ),
                                    $(e).append(
                                        '<div id="' +
                                            e.substring(1, e.length) +
                                            '1" class="panel-collapse collapse ' +
                                            t +
                                            '"><div class="panel-body"> ' +
                                            a +
                                            "</div></div>"
                                    );
                            }),
                        $(r).find(".mega-menu-nav").remove()),
                    $(".mega-menu-body .panel").each(function () {
                        $(this).has(".panel-collapse").length &&
                            $(".panel-heading .panel-title a").addClass("collapsed");
                    }),
                    "undefined" != typeof feather && "function" == typeof feather.replace && feather.replace();
            }),
            $(document).on("click", ".mega-menu-nav a", function () {
                var e = $(this).attr("id"),
                    t = $(this).attr("data-category_color");
                $("body").get(0).style.setProperty("--category-color", t),
                    $(".mega-menu-head").attr("class", "mega-menu-head"),
                    $(".mega-menu-head").addClass(e);
            }),
            jQuery(".rurera-tooltip").length > 0 &&
                $(".rurera-tooltip").on("click", function () {
                    $(this).find(".lms-tooltip").toggleClass("show");
                }),
            jQuery(".rurera-tooltip").length > 0 &&
                $(".rurera-tooltip").on("click", function () {
                    $(this).addClass("show");
                }),
            window.matchMedia("(max-width: 992px)").matches &&
                jQuery(".widget-title").length > 0 &&
                $(document).ready(function () {
                    $(".widget-title").click(function () {
                        $(this)
                            .toggleClass("active")
                            .next(".widget-body")
                            .slideToggle()
                            .parent()
                            .siblings()
                            .find(".widget-body")
                            .slideUp()
                            .prev()
                            .removeClass("active");
                    });
                });
    }),
    $(document).on("submit", ".create_student_form", function (e) {
        return (
            0 != (returnType = rurera_validation_process($(this))) &&
            (rurera_loader($(this).find(".submit-button"), "div"), !0)
        );
    }),
    $(document).on("click", ".js-switch-user", function (e) {
        var t = $(this).attr("data-child");
        rurera_loader($(this), "div"),
            jQuery.ajax({
                type: "POST",
                url: "/switch_user",
                headers: { "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content") },
                data: { child_id: t },
                success: function (e) {
                    window.location.href = "/dashboard";
                },
            });
    }),
    $(document).on("click", ".cancel-subscription", function (e) {
        var t = $(this).attr("data-child");
        rurera_loader($(this), "div"),
            jQuery.ajax({
                type: "POST",
                url: "/panel/cancel_subscription",
                headers: { "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content") },
                data: { child_id: t },
                success: function (e) {
                    jQuery.growl.notice({ title: "", message: "Updated Successfully" }),
                        (window.location.href = "/dashboard");
                },
            });
    }),
    $(document).on("click", ".user-assignments-tab", function (e) {
        var t = $(this).attr("data-type"),
            a = $(this).attr("data-content_id");
        rurera_loader($("#" + a), "div"),
            jQuery.ajax({
                type: "GET",
                url: "/panel/get_user_assignments",
                headers: { "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content") },
                data: { fetch_type: t },
                success: function (e) {
                    $("#" + a + " .assignments-list ul").html(e),
                        console.log(a),
                        rurera_remove_loader($("#" + a), "div");
                },
            });
    }),
    $(document).ready(function () {
        jQuery(".panel-right-sidebar .navbar-toggler, .panel-sidebar .navbar-toggler").length > 0 &&
            $(".panel-right-sidebar .navbar-toggler, .panel-sidebar .navbar-toggler").click(function () {
                $(".sidebar-menu-holder").toggleClass("show");
            }),
            jQuery(".levels-progress.circle").length > 0 &&
                $(".levels-progress.circle").each(function () {
                    var e = $(this),
                        t = e.data("percent"),
                        a = 3.6 * t,
                        n = e.find(".progress-count");
                    n.css("transform", "rotate(" + parseInt(a + 180) + "deg)"),
                        e.append('<div class="circle_inbox"><span class="percent_text"></span></div>'),
                        e.prop("Counter", 0).animate(
                            { Counter: t },
                            {
                                duration: 2e3,
                                easing: "swing",
                                step: function (t) {
                                    e.find(".percent_text").text(Math.ceil(t) + "%");
                                },
                            }
                        ),
                        t >= 51 &&
                            (n.css("transform", "rotate(360deg)"),
                            setTimeout(function () {
                                e.addClass("percent_more");
                            }, 1e3),
                            setTimeout(function () {
                                n.css("transform", "rotate(" + parseInt(a + 180) + "deg)");
                            }, 1e3));
                }),
            jQuery(".key-statistics .swiper").length > 0 &&
                new Swiper(".key-statistics .swiper", { pagination: { el: ".swiper-pagination", clickable: !0 } }),
            jQuery(".input").length > 0 &&
                $(function () {
                    var e = $(".input"),
                        t = $(".description-flex-container").find("p");
                    e.click(function () {
                        var a = $(this),
                            n = a.index(),
                            r = t.eq(n);
                        a.add(r).addClass("active"), e.not(a).add(t.not(r)).removeClass("active");
                    });
                }),
            jQuery(".navbar-toggler, #navbarClose").length > 0 &&
                $(".navbar-toggler, #navbarClose").click(function () {
                    $("body").toggleClass("panel-sidebar-open");
                }),
            jQuery(".sidebar-menu .sidenav-item").length > 0 &&
                $(".sidebar-menu .sidenav-item").on("click", ".dropdown-toggle", function (e) {
                    e.preventDefault(),
                        $(this).parent().addClass("show"),
                        $(this).attr("aria-expanded", "true"),
                        $(this).next().addClass("show");
                }),
            jQuery(".partner-slider .swiper-container").length > 0 &&
                new Swiper(".partner-slider .swiper-container", {
                    slidesPerView: 7,
                    spaceBetween: 30,
                    loop: !0,
                    autoplay: !0,
                    breakpoints: {
                        991: { slidesPerView: 7 },
                        660: { slidesPerView: 3, spaceBetween: 15 },
                        480: { slidesPerView: 1, spaceBetween: 0 },
                        320: { slidesPerView: 1, spaceBetween: 0 },
                    },
                }),
            ($.fn.moveIt = function () {
                var t = $(window),
                    a = [];
                $(this).each(function () {
                    a.push(new e($(this)));
                }),
                    window.addEventListener(
                        "scroll",
                        function () {
                            var e = t.scrollTop();
                            a.forEach(function (t) {
                                t.update(e);
                            });
                        },
                        { passive: !0 }
                    );
            });
        var e = function (e) {
            (this.el = $(e)), (this.speed = parseInt(this.el.attr("data-scroll-speed")));
        };
        (e.prototype.update = function (e) {
            this.el.css("transform", "translateY(" + -e / this.speed + "px)");
        }),
            jQuery("[data-scroll-speed]").length > 0 &&
                $(function () {
                    $("[data-scroll-speed]").moveIt();
                }),
            jQuery(".recent-reviews-section .swiper-container").length > 0 &&
                new Swiper(".recent-reviews-section .swiper-container", {
                    slidesPerView: 1,
                    spaceBetween: 0,
                    speed: 2e3,
                    loop: !0,
                    breakpoints: {
                        320: { slidesPerView: 1, spaceBetween: 0 },
                        480: { slidesPerView: 1, spaceBetween: 0 },
                        640: { slidesPerView: 1, spaceBetween: 0 },
                        992: { slidesPerView: 1, spaceBetween: 0 },
                    },
                }),
            jQuery(".filter-mobile-btn").length > 0 &&
                $(".filter-mobile-btn").on("click", function (e) {
                    $(".filters-list .analytics-type, .tests-list,  .inline-filters").toggleClass("open"),
                        e.preventDefault();
                }),
            jQuery(".tests-list > li").length > 0 &&
                $(".tests-list > li").on("click", function (e) {
                    $(".tests-list").toggleClass("open"), e.preventDefault();
                });
    }),
    $("body").on("click", ".shortlist-btn", function (e) {
        var t = $(this),
            a = $(this).attr("data-product_id"),
            n = $(this).attr("data-type");
        rurera_loader(t, "div"),
            jQuery.ajax({
                type: "POST",
                url: "/products/update-shortlist",
                headers: { "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content") },
                data: { product_id: a, action_type: n },
                success: function (e) {
                    t.find("img").removeClass("heart-fill"),
                        t.find("img").removeClass("heart-alt"),
                        "add" == n &&
                            (t.find("img").addClass("heart-fill"),
                            t.find("img").attr("src", "/assets/default/svgs/heart-fill.svg"),
                            t.attr("data-type", "remove")),
                        "remove" == n &&
                            (t.find("img").addClass("heart-alt"),
                            t.find("img").attr("src", "/assets/default/svgs/heart-alt.svg"),
                            t.attr("data-type", "add")),
                        rurera_remove_loader(t, "div"),
                        jQuery.growl.notice({ title: "", message: "Updated Successfully" });
                },
            });
    }),
    $("body").on("click", ".subscription-required", function (e) {
        e.preventDefault(), $(".subscription-modal").modal("show");
    });
var subscriptionRequest = null,
    userGenerateRequest = null,
    selectedPackage = null,
    subscribed_for = 0,
    CSRFTOKEN = $('meta[name="csrf-token"]').attr("content");
function auto_generate_username(e) {
    var t = $(".user-first-name").val(),
        a = $(".user-last-name").val();
    $(".username-auto-generate").prop("checked") || "auto" != e
        ? ($(".username-field").prop("readonly", !0),
          (userGenerateRequest = $.ajax({
              type: "GET",
              url: "/subscribes/autogenerte-username",
              beforeSend: function () {
                  null != userGenerateRequest && userGenerateRequest.abort();
              },
              data: { first_name: t, last_name: a, autogenerate: "yes" },
              headers: { "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content") },
              success: function (e) {
                  $(".usernames-suggestions").html(""), $(".username-field").val(e), $(".generatePassword").click();
              },
          })))
        : ($(".username-field").prop("readonly", !1),
          $(".password-field").prop("readonly", !1),
          $(".username-field").val(""),
          $(".password-field").val(""),
          $(".password-suggestions").html(""),
          (userGenerateRequest = $.ajax({
              type: "GET",
              url: "/subscribes/autogenerte-username",
              beforeSend: function () {
                  null != userGenerateRequest && userGenerateRequest.abort();
              },
              data: { first_name: t, last_name: a },
              headers: { "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content") },
              success: function (e) {
                  $(".usernames-suggestions").html(e);
              },
          })));
}
function generatePassword(e) {
    var t = [
            "fun",
            "sky",
            "joy",
            "star",
            "sun",
            "pet",
            "awe",
            "run",
            "gem",
            "toy",
            "win",
            "jam",
            "cup",
            "joy",
            "dino",
            "hero",
            "fairy",
            "baby",
            "treat",
            "find",
            "play",
            "home",
            "bot",
            "seek",
            "ninja",
            "fay",
            "king",
            "icy",
            "wiz",
            "snow",
            "rose",
            "rainbow",
            "unicorn",
            "star",
            "galaxy",
            "candy",
            "puppy",
            "kitten",
            "adventure",
            "magic",
            "smile",
            "happy",
            "sunshine",
            "beach",
            "butterfly",
            "dinosaur",
            "superhero",
            "princess",
            "dragon",
            "cookie",
            "treasure",
            "jungle",
            "mermaid",
            "spaceship",
            "robot",
            "pirate",
            "ninja",
            "fairy",
            "castle",
            "adventure",
            "ice",
            "cream",
            "rocket",
            "superhero",
            "spaceship",
            "skateboard",
            "popcorn",
            "cupcake",
            "rainbow",
            "magic",
            "wizard",
            "snowflake",
            "flower",
            "music",
            "sunset",
            "garden",
            "cake",
            "fish",
            "bird",
            "frog",
            "moon",
            "bug",
            "pie",
            "hat",
            "ball",
            "tree",
            "duck",
            "bee",
            "leaf",
            "shell",
            "car",
            "boat",
            "bike",
            "train",
            "bear",
            "lion",
            "tiger",
            "elephant",
            "giraffe",
            "snake",
            "butterfly",
            "robot",
            "rocket",
            "starfish",
            "rainbow",
            "jellyfish",
            "Apple",
            "Banana",
            "Orange",
            "Grapes",
            "Pear",
            "Mango",
            "Strawberry",
            "Kiwi",
            "Pineapple",
            "Watermelon",
            "Blueberry",
            "Raspberry",
            "Peach",
            "Cherry",
            "Plum",
            "Lemon",
            "Lime",
            "Avocado",
            "Coconut",
            "Papaya",
            "Guava",
            "Apricot",
            "Fig",
            "Blackberry",
            "Cranberry",
            "Pomegranate",
            "Dragonfruit",
            "Cantaloupe",
            "Honeydew",
            "Lychee",
            "Passionfruit",
            "Tangerine",
            "Grapefruit",
            "Kiwifruit",
            "Persimmon",
            "Jackfruit",
            "Starfruit",
            "Cucumber",
            "Carrot",
            "Tomato",
            "Potato",
            "Broccoli",
            "Cauliflower",
            "Lettuce",
            "Spinach",
            "Kale",
            "Cabbage",
            "Celery",
            "Onion",
            "Garlic",
            "Parsnip",
            "Turnip",
            "Beet",
            "Asparagus",
            "Artichoke",
            "Radish",
            "Eggplant",
            "Zucchini",
            "Squash",
            "Pumpkin",
            "Peas",
            "Corn",
            "Mushroom",
            "Olive",
            "Pickle",
            "Ginger",
            "Radish",
            "Watercress",
            "Arugula",
            "Chives",
            "Basil",
            "Mint",
            "Cilantro",
            "Parsley",
            "Dill",
            "Rosemary",
            "Thyme",
            "Sage",
            "Oregano",
            "Tarragon",
            "Nutmeg",
            "Clove",
            "Cinnamon",
            "Vanilla",
            "Cocoa",
            "Coffee",
            "Tea",
            "Honey",
            "Maple",
            "Peanut",
            "Almond",
            "Cashew",
            "Walnut",
        ],
        a = [
            "Apple",
            "Banana",
            "Orange",
            "Grapes",
            "Pear",
            "Mango",
            "Strawberry",
            "Kiwi",
            "Pineapple",
            "Watermelon",
            "Blueberry",
            "Raspberry",
            "Peach",
            "Cherry",
            "Plum",
            "Lemon",
            "Lime",
            "Avocado",
            "Coconut",
            "Papaya",
            "Guava",
            "Apricot",
            "Fig",
            "Blackberry",
            "Cranberry",
            "Pomegranate",
            "Dragonfruit",
            "Cantaloupe",
            "Honeydew",
            "Lychee",
            "Passionfruit",
            "Tangerine",
            "Grapefruit",
            "Kiwifruit",
            "Persimmon",
            "Jackfruit",
            "Starfruit",
            "Cucumber",
            "Carrot",
            "Tomato",
            "Potato",
            "Broccoli",
            "Cauliflower",
            "Lettuce",
            "Spinach",
            "Kale",
            "Cabbage",
            "Celery",
            "Onion",
            "Garlic",
            "Parsnip",
            "Turnip",
            "Beet",
            "Asparagus",
            "Artichoke",
            "Radish",
            "Eggplant",
            "Zucchini",
            "Squash",
            "Pumpkin",
            "Peas",
            "Corn",
            "Mushroom",
            "Olive",
            "Pickle",
            "Ginger",
            "Radish",
            "Watercress",
            "Arugula",
            "Chives",
            "Basil",
            "Mint",
            "Cilantro",
            "Parsley",
            "Dill",
            "Rosemary",
            "Thyme",
            "Sage",
            "Oregano",
            "Tarragon",
            "Nutmeg",
            "Clove",
            "Cinnamon",
            "Vanilla",
            "Cocoa",
            "Coffee",
            "Tea",
            "Honey",
            "Maple",
            "Peanut",
            "Almond",
            "Cashew",
            "Walnut",
        ];
    return (
        t[Math.floor(Math.random() * t.length)] +
        //a[Math.floor(Math.random() * a.length)] +
        (Math.floor(90 * Math.random()) + 10)
    );
}
$(document).on("click", ".subscription-school-modal", function (e) {
    var t = $(this).attr("data-type"),
        a = $(this).attr("data-id"),
        n = $(this).attr("data-reason");
    (selectedPackage = a),
        $(".subscription-content").html(""),
        $("#subscriptionModal").modal("show"),
        rurera_loader($(".subscription-content"), "div"),
        (subscriptionRequest = jQuery.ajax({
            type: "GET",
            url: "/subscribes/apply-school-subscription",
            async: !0,
            beforeSend: function () {
                null != subscriptionRequest && subscriptionRequest.abort();
            },
            headers: { "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content") },
            data: { action_type: t, action_id: a, action_reason: n },
            success: function (e) {
                rurera_remove_loader($(".subscription-content"), "div"), $(".subscription-content").html(e);
            },
        }));
}),
    $(document).on("click", ".subscription-modal", function (e) {
        var t = $(this).attr("data-type"),
            a = $(this).attr("data-id"),
            n = $(this).attr("data-reason");
        (selectedPackage = a),
            $(".subscription-content").html(""),
            $("#subscriptionModal").modal("show"),
            rurera_loader($(".subscription-content"), "div"),
            (subscriptionRequest = jQuery.ajax({
                type: "GET",
                url: "/subscribes/apply-subscription",
                async: !0,
                beforeSend: function () {
                    null != subscriptionRequest && subscriptionRequest.abort();
                },
                headers: { "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content") },
                data: { action_type: t, action_id: a, action_reason: n },
                success: function (e) {
                    rurera_remove_loader($(".subscription-content"), "div"), $(".subscription-content").html(e);
                },
            }));
    }),
    $(".add-child-btn").length > 0 && $(".add-child-btn").click(),
    $(document).on("click", ".cancel-subscription-modal", function (e) {
        var t = $(this).attr("data-id"),
            a = $(this).closest(".list-group-item").find(".package-data").html();
        $(".cancel-package-data").html(a),
            $(".cancel-package-data .package-data").removeClass("rurera-hide"),
            $(".cancel-subscription-btn").attr("data-child_id", t),
            $("#cancelsubscriptionModal").modal("show");
    }),
    $(document).on("click", ".unlink-modal", function (e) {
        var t = $(this).attr("data-id");
        $(".unlink-btn").attr("data-child_id", t), $("#unlinkModal").modal("show");
    }),
    $(document).on("click", ".unlink-btn", function (e) {
        var t = $(this).attr("data-child_id");
        rurera_loader($(".unlink-block"), "div"),
            $.ajax({
                type: "POST",
                url: "/subscribes/unlink-user",
                data: { child_id: t },
                headers: { "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content") },
                success: function (e) {
                    $("#unlinkModal").modal("hide"),
                        Swal.fire({
                            icon: "success",
                            html: '<h3 class="font-20 text-center text-dark-blue py-25">Successfully Unlinked</h3>',
                            showConfirmButton: !1,
                            showCloseButton: true,
                            width: "25rem",
                        });
                },
            });
    }),
    $(document).on("click", ".cancel-subscription-btn", function (e) {
        var t = $(this).attr("data-child_id");
        rurera_loader($(".cancel-membership-block"), "div"),
            $.ajax({
                type: "POST",
                url: "/subscribes/cancel-subscription",
                data: { child_id: t },
                headers: { "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content") },
                success: function (e) {
                    window.location.href = "/panel/members";
                },
            });
    }),
    $(document).on("click", ".school-signup-btn-submit", function (e) {
        if (0 == (returnType = rurera_validation_process($(".school-signup-form"), "under_field"))) return !1;
        rurera_loader($(".subscription-content"), "div");
        var t = new FormData($(".school-signup-form")[0]);
        rurera_loader($(".subscription-content"), "div"),
            $.ajax({
                type: "POST",
                url: "/school-signup-submit",
                data: t,
                processData: !1,
                contentType: !1,
                headers: { "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content") },
                success: function (e) {
                    window.location.href = "/admin/";
                },
                error: function (e) {
                    rurera_remove_loader($(".subscription-content"), "div");
                    var t = e.responseJSON.errors,
                        a = "";
                    for (var n in t)
                        t.hasOwnProperty(n) &&
                            t[n].forEach(function (e) {
                                (a += e + "<br>"), console.log("Field: " + n + ", Error: " + e);
                            });
                    Swal.fire({
                        icon: "error",
                        html: '<h3 class="font-20 text-center text-dark-blue py-25">' + a + "</h3>",
                        showConfirmButton: !1,
                        showCloseButton: true,
                        width: "25rem",
                    });
                },
            });
    }),
    $(document).on("click", ".signup-btn-submit", function (e) {
        if (0 == (returnType = rurera_validation_process($(".signup-form"), "under_field"))) return !1;
        rurera_loader($(".subscription-content"), "div");
        var t = new FormData($(".signup-form")[0]);
        rurera_loader($(".subscription-content"), "div"),
            $.ajax({
                type: "POST",
                url: "/signup-submit",
                data: t,
                processData: !1,
                contentType: !1,
                headers: { "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content") },
                success: function (e) {
                    window.location.href = "/parent/students";
                },
                error: function (e) {
                    rurera_remove_loader($(".subscription-content"), "div");
                    var t = e.responseJSON.errors,
                        a = "";
                    for (var n in t)
                        t.hasOwnProperty(n) &&
                            t[n].forEach(function (e) {
                                (a += e + "<br>"), console.log("Field: " + n + ", Error: " + e);
                            });
                    Swal.fire({
                        icon: "error",
                        html: '<h3 class="font-20 text-center text-dark-blue py-25">' + a + "</h3>",
                        showConfirmButton: !1,
                        showCloseButton: true,
                        width: "25rem",
                    });
                },
            });
    }),
    $(document).on("click", ".signup-btn-submit1", function (e) {
        var t = new FormData($(".signup-form")[0]);
        rurera_loader($(".subscription-content"), "div"),
            $.ajax({
                type: "POST",
                url: "/signup-submit",
                data: t,
                processData: !1,
                contentType: !1,
                headers: { "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content") },
                success: function (e) {},
            });
    }),
    $(document).on("click", ".subscription-tenure-btn", function (e) {
        var t = new FormData($(".subscription-tenure-form")[0]);
        rurera_loader($(".subscription-content"), "div"),
            (subscribed_for = $('input[name="subscribe_for"]:checked').val()),
            $.ajax({
                type: "POST",
                url: "/subscribes/tenure-submit",
                data: t,
                processData: !1,
                contentType: !1,
                headers: { "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content") },
                success: function (e) {
                    rurera_remove_loader($(".subscription-content"), "div"), $(".subscription-content").html(e);
                },
            });
    }),
    $(document).on("change", ".username-auto-generate", function (e) {
        auto_generate_username("no");
    }),
    $(document).on("click", ".username-auto-generate", function (e) {
        auto_generate_username("no");
    }),
    $(document).on("keyup change", ".user-first-name, .user-last-name", function (e) {
        auto_generate_username("auto");
    }),
    $(document).on("click", ".usernames-suggestions span", function (e) {
        var t = $(this).attr("data-label");
        $(".username-field").val(t);
    }),
    $(document).on("click", ".packages-back-btn", function (e) {
        var t = $(this).attr("data-user_id"),
            a = $(this).attr("data-subscribed_for");
        rurera_loader($(".subscription-content"), "div"),
            $.ajax({
                type: "GET",
                url: "/subscribes/packages-list",
                data: { user_id: t, subscribed_for: a },
                success: function (e) {
                    rurera_remove_loader($(".subscription-content"), "div"),
                        $(".subscription-content").html(e),
                        $(".subscribed_for-field").change();
                },
            });
    }),
    $(document).on("submit", ".rurera-form-validation", function (e) {
        return (
            new FormData($(".rurera-form-validation")[0]),
            0 != (returnType = rurera_validation_process($(".rurera-form-validation"), "under_field"))
        );
    }),
    /*$(document).on("focusout", ".child-register-form .rurera-req-field", function (e) {
        if (
            (new FormData($(".child-register-form")[0]),
            0 == (returnType = rurera_validation_process($(".child-register-form"), "under_field")))
        )
            return !1;
    }),*/
    $(document).on("submit", ".child-register-form", function (e) {
        var t = new FormData($(".child-register-form")[0]);
        return (
            0 != (returnType = rurera_validation_process($(".child-register-form"), "under_field")) &&
            (t.append("selected_package", selectedPackage),
            rurera_loader($(".subscription-content"), "div"),
            $.ajax({
                type: "POST",
                url: "/subscribes/register-child",
                data: t,
                processData: !1,
                contentType: !1,
                success: function (e) {
                    rurera_remove_loader($(".subscription-content"), "div"), $(".subscription-content").html(e);
                },
            }),
            !1)
        );
    }),
    $(document).on("submit", ".child-edit-form", function (e) {
        var t = new FormData($(".child-edit-form")[0]);
        if (
            (console.log("submission"),
            0 == (returnType = rurera_validation_process($(".child-edit-form"), "under_field")))
        )
            return !1;
        rurera_loader($(".child-edit-form"), "div"),
            $.ajax({
                type: "POST",
                url: "/subscribes/edit-child",
                data: t,
                processData: !1,
                contentType: !1,
                success: function (e) {
                    location.reload();
                },
            });
    }),
    $(document).on("click", ".school-package-selection", function (e) {
        const t = getCurrentPackage(currentStudentCount);
        var a = $(".student-count").html(),
            n = $(this).attr("data-id"),
            r = ($(this).attr("data-user_id"), $('input[name="subscribed_for"]:checked').val()),
            i = new FormData($(".package-register-form")[0]);
        return (
            console.log(r),
            (selectedPackage = n),
            i.append("selected_package", t.package_id),
            i.append("subscribed_for", 1),
            i.append("student_count", a),
            rurera_loader($(".subscription-content"), "div"),
            $.ajax({
                type: "POST",
                url: "/subscribes/school-payment-form",
                data: i,
                processData: !1,
                contentType: !1,
                success: function (e) {
                    rurera_remove_loader($(".subscription-content"), "div"), $(".subscription-content").html(e);
                },
            }),
            !1
        );
    }),

    $(document).on("click", ".package-selection", function (e) {
        var t = $(this).attr("data-id"),
            a = $(this).attr("data-user_id"),
            n = $('input[name="subscribed_for"]:checked').val(),
            r = new FormData($(".package-register-form")[0]);
        return (
            console.log(n),
            (selectedPackage = t),
            r.append("selected_package", t),
            r.append("subscribed_for", n),
            r.append("user_id", a),
            rurera_loader($(".subscription-content"), "div"),
            $.ajax({
                type: "POST",
                url: "/subscribes/payment-form",
                data: r,
                processData: !1,
                contentType: !1,
                success: function (e) {
                    rurera_remove_loader($(".subscription-content"), "div"), $(".subscription-content").html(e);
                },
            }),
            !1
        );
    }),
    $(document).on("click", ".process-school-payment", function (e) {
        rurera_loader($(".process-school-payment"), "div");
        var t = new FormData($(".school-payment-form")[0]);
        $.ajax({
            type: "POST",
            url: "/subscribes/paySchoolPayment",
            data: t,
            dataType: "json",
            processData: !1,
            contentType: !1,
            success: function (e) {
                var t = e.invoice_url,
                    a = e.order_id,
                    n = screen.width / 2 - 300,
                    r = screen.height / 2 - 350,
                    i = window.open(
                        t,
                        "PaymentWindow",
                        `width=600,height=700,top=${r},left=${n},resizable=yes,scrollbars=yes`
                    ),
                    s = setInterval(function () {
                        $.ajax({
                            url: "/subscribes/check-payment-status",
                            method: "GET",
                            data: { order_id: a },
                            success: function (e) {
                                if ("paid" === e.status) {
                                    clearInterval(s), i && !i.closed && i.close();
                                    let t = encodeURIComponent(JSON.stringify(e.toast));
                                    window.location.href = `/admin?toast=${t}`;
                                }
                            },
                        });
                    }, 2e3);
            },
        });
    }),
    $(document).on("click", ".process-payment", function (e) {
        rurera_loader($(".process-payment"), "div");
        var t = $(this).attr("data-subscribed_for"),
            a = $(".coupon_code").val(),
            n = $(this).attr("data-user_id");
        $.ajax({
            type: "POST",
            headers: {
                'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
            },
            url: "/subscribes/pay",
            data: { selectedPackage: selectedPackage, user_id: n, subscribe_for: t, coupon_code: a },
            success: function (e) {
                $(".googlepay-gateway-fields").html(e);
            },
        });
    }),
    $(document).on("click", ".generatePassword", function (e) {
        var t = $(this).attr("data-input_class"),
            a = generatePassword(8);
        $("." + t).val(a);
    }),
    $(document).on("click", "#generateBtn", function (e) {
        var t = $(".password-field"),
            a = generatePassword(8);
        t.val(a);
    }),
    (window.resetRureraDatePickers = () => {
        jQuery().daterangepicker &&
            (console.log("testdaterangepicker"),
            $(".rureradatepicker").length > 0 &&
                $(".rureradatepicker").each(function () {
                    let e = $(this),
                        t = e.attr("data-drops") ?? "down",
                        a = e.attr("min"),
                        n = e.attr("max");
                    var r = {
                        locale: { format: "YYYY-MM-DD" },
                        singleDatePicker: !0,
                        timePicker: !1,
                        autoApply: !0,
                        autoUpdateInput: !1,
                        drops: t,
                    };
                    rurera_is_field(a) && (r.minDate = a),
                        rurera_is_field(n) && (r.maxDate = n),
                        e.daterangepicker(r),
                        e.on("apply.daterangepicker", function (e, t) {
                            $(this).val(t.startDate.format("YYYY-MM-DD"));
                        }),
                        e.on("cancel.daterangepicker", function (e, t) {
                            $(this).val("");
                        });
                }));
    }),
    resetRureraDatePickers();
var gameTimeRequest = null;
function update_user_game_time(e) {
    gameTimeRequest = jQuery.ajax({
        type: "POST",
        url: "/subscribes/update-game-time",
        async: !0,
        beforeSend: function () {
            null != gameTimeRequest && gameTimeRequest.abort();
        },
        headers: { "X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content") },
        data: { updated_game_time: e },
        success: function (e) {
            console.log(e);
        },
    });
}
function createWordCloud(e, t, a) {
    var n = document.getElementById(e);
    (n.style.position = "relative"), (n.style.fontFamily = a.font);
    var r = document.createElement("canvas");
    (r.width = n.offsetWidth), (r.height = n.offsetHeight);
    var i = r.getContext("2d");
    n.appendChild(r);
    var s = n.offsetWidth / 2,
        o = n.offsetHeight / 2,
        c = [];
    function l(e, t) {
        var n = document.createElement("div");
        return (
            (n.style.position = "absolute"),
            (n.style.fontSize = t + "px"),
            (n.style.lineHeight = a.lineHeight),
            n.appendChild(document.createTextNode(e)),
            n
        );
    }
    function d(e, t, a) {
        n.appendChild(e),
            (e.style.left = Math.floor(99 * Math.random()) + 1 + "px"),
            (e.style.top = Math.floor(100 * Math.random()) + 1 + "px"),
            c.push(e.getBoundingClientRect());
    }
    function u(e, t) {
        var n = a.spiralResolution * e;
        return t ? t((1 + n) * Math.cos(n), (1 + n) * Math.sin(n)) : null;
    }
    !(function () {
        for (var e = 0; e < t.length; e += 1)
            for (
                var n = l(t[e].word, t[e].freq), r = 0;
                r < a.spiralLimit &&
                !u(r, function (e, t) {
                    return d(n), !0;
                });
                r++
            );
    })(),
        (function () {
            if ((i.beginPath(), a.trace)) {
                var e = 1;
                !(function t() {
                    u(e, function (e, t) {
                        var a, n;
                        (a = s + e), (n = o + t), i.fillRect(a, n, 1, 1);
                    }),
                        (e += 1) < a.spiralLimit && window.requestAnimationFrame(t);
                })();
            }
        })();
}
function throttle(e, t) {
    var a = Date.now();
    return function () {
        a + t - Date.now() < 0 && (e(), (a = Date.now()));
    };
}
function scroll_cb() {
    var HEADER_OFFSET = 200;
    var scrollTop = $(window).scrollTop() + HEADER_OFFSET + 1;

    var currentId = null;

    $("h2[id], h3[id], ul[id]").each(function () {
        var top = $(this).offset().top;

        if (top <= scrollTop) {
            currentId = this.id; // keep updating
        } else {
            return false; // stop once past scroll point
        }
    });

    if (!currentId) return;

    var $link = $(".single-post-nav li a[href='#" + currentId + "']");

    if ($link.length && !$link.hasClass("current")) {
        $(".single-post-nav li a.current").removeClass("current");
        $link.addClass("current");
    }
}
$(".single-post-nav a").on("click", function (e) {
    e.preventDefault();

    var target = $($(this).attr("href"));
    if (!target.length) return;

    $("html, body").animate({
        scrollTop: target.offset().top - 80
    }, 400);
});

$(document).on("click", ".rurera-selectable-options li", function (e) {
    $(".rurera-selectable-options li").removeClass("active");
    var t = $(this).html();
    $("input.editor-field-inputs.empty-field").each(function () {
        if ("" === $(this).val()) return $(this).val(t), !1;
    });
}),
    $(document).on("click", ".editor-field-inputs.empty-field", function (e) {
        if ($(".rurera-selectable-options li.active").length > 0) {
            var t = $(".rurera-selectable-options li.active").html();
            console.log(t), $(".rurera-selectable-options li").removeClass("active"), $(this).val(t);
        } else $(this).val("");
    }),
    $(document).on("click", ".alert-btn-close", function (e) {
        $(this).closest(".rurera-flash-msg").remove();
    }),
    $(window).on("load", function () {
        document.querySelectorAll(".lazyload-img").forEach(function (e) {
            var t = e.querySelector("img");
            function a() {
                e.classList.add("loaded");
            }
            t.complete ? a() : t.addEventListener("load", a);
        });
    }),
    $(document).ready(function () {
        jQuery(".lms-faqs .card-header").length > 0 &&
            $(".lms-faqs .card-header").click(function () {
                $(this)
                    .toggleClass("active")
                    .next(".collapse")
                    .slideToggle()
                    .parent()
                    .siblings()
                    .find(".collapse")
                    .slideUp()
                    .prev()
                    .removeClass("active");
            }),
            jQuery(".lms-accordion-modern .card-header").length > 0 &&
                $(".lms-accordion-modern .card-header").click(function () {
                    $(this)
                        .toggleClass("active")
                        .next(".collapse")
                        .slideToggle()
                        .parent()
                        .siblings()
                        .find(".collapse")
                        .slideUp()
                        .prev()
                        .removeClass("active");
                }),
            jQuery(".lms-accordion-job .card-header").length > 0 &&
                $(".lms-accordion-job .card-header").click(function () {
                    $(this)
                        .toggleClass("active")
                        .next(".collapse")
                        .slideToggle()
                        .parent()
                        .siblings()
                        .find(".collapse")
                        .slideUp()
                        .prev()
                        .removeClass("active");
                }),
            jQuery(".lms-jobs-form .card-header").length > 0 &&
                $(".lms-jobs-form .card-header").click(function () {
                    $(this)
                        .toggleClass("active")
                        .next(".collapse")
                        .slideToggle()
                        .parent()
                        .siblings()
                        .find(".collapse")
                        .slideUp()
                        .prev()
                        .removeClass("active");
                });
    }),
    $(document).ready(function () {
        window.addEventListener("scroll", throttle(scroll_cb, 100)),
            $(window).scroll(function () {
                $(window).scrollTop(), $(document).height(), $(window).height();
            }),
            $(".single-post-nav a").click(function () {
                $(".single-post-nav a").removeClass("current"), $(this).addClass("current");
            });
    });
function rurera_modal_alert(msg_type, msg_title, confirmButton){

    Swal.fire({icon: msg_type, html: '<h3 class="font-20 text-center text-dark-blue">'+msg_title+'</h3>', showConfirmButton: confirmButton, showCloseButton: true});

}
$(document).on("submit", ".switch_user_login", function (e) {
    var formData = new FormData($(".switch_user_login")[0]);
    var loaderDiv = $(this);
    rurera_loader(loaderDiv, "div");

    $.ajax({
        type: "POST",
        url: "/panel/switch_user_login",
        data: formData,
        dataType: 'json',
        processData: !1,
        contentType: !1,
        success: function (e) {
            console.log(e);
            if(e.status != '') {
                rurera_modal_alert(
                    e.status,
                    e.msg,
                    false, //confirmButton
                );
            }
            if(e.redirect == true){
                window.location.href = "/dashboard";
            }
            rurera_remove_loader(loaderDiv, "div");
        },
    });
});


$(document).on('click', '.parent-filters', function () {
    $('.parent-filters').removeClass('active');
    $('.parent-filters').find('.active-tick').remove();
    $(this).addClass('active');
    var filter_html = $(this).html();
    $(this).html('<span class="active-tick"></span> '+filter_html);

    var selectedLevel = $('.performance-level-selection').val();
    var id = $(this).attr('data-id');

    $('.listing-data-row').each(function () {
        var rowLevel = $(this).data('level_type');
        var parent_id = $(this).attr('data-parent_id');

        // Show all if "all" selected
        if (selectedLevel === 'all' && (id == 'all' || id == parent_id)) {
            $(this).removeClass('rurera-hide');
        }
        // Match selected level
        else if (rowLevel === selectedLevel && (id == 'all' || id == parent_id)) {
            $(this).removeClass('rurera-hide');
        }
        // Hide others
        else {
            $(this).addClass('rurera-hide');
        }
    });





});

$(document).on('change', '.performance-level-selection', function () {
    $(".parent-filters.active").click();

});

$(document).on('change', '.topic-selection-check', function () {
    var total_checked_topics = $('.topic-selection-check:checked').length;
    $(".selected-topics-count span").html(total_checked_topics);
    selected_topics_tags();

});
$(document).on('dblclick', '.rurera-location-section', function () {

    $('.gs-map').removeClass('disabled-area');
});


function selected_topics_tags(){

    $(".selected-topics-chips").html('');
    $(".topic-selection-check:checked").each(function () {

        var topic_title = $(this).attr('data-topic');
        var topic_id = $(this).attr('value');

        var selected_topic_html =
            '<button class="chip selected-topic-chip" data-id="' + topic_id + '">' +
            topic_title +
            '</button>';

        $(".selected-topics-chips").append(selected_topic_html);
    });

    $(".selected-topics").addClass('rurera-hide');
    if($(".topic-selection-check:checked").length > 0){
        $(".selected-topics").removeClass('rurera-hide');
    }

}


function filter_childs_topics_listings(){
    $(".listing-data-row").addClass('rurera-hide');
    $(".parent-filters.active").each(function () {
        var id = $(this).attr('data-id');
        if(id == 'all'){
            $('.listing-data-row').removeClass('rurera-hide');
        }else {
            $('.listing-data-row[data-parent_id="' + id + '"]').removeClass('rurera-hide');
        }
    });
}

